












import React, { Component } from 'react'

class DisplayQuestion extends React.Component{
render(){
    let bullets = [];
    this.props.ch.forEach((element,index) =>{    
    bullets.push(       
        <div key={index}>
        <input type="radio" value={this.props.ch[0]} name={"question-" + this.props.questionNumber}
           //checked={this.props.selectionChecker(this.props.ans1, this.props.questionNumber)}
            onChange={() => this.props.answerChanger(this.props.ch[0][index], this.props.questionNumber)}/>
            {this.props.ch[0][index]}            
        </div>
    )      
    });
    return(
    <div>
        <label>{this.props.question}</label>
        <form>
        {bullets}
        </form>
    </div>
    );
}
}

export default class QuizFullPage extends Component {
    state={
    chosenAnswers: [ Array(this.props.quiz.length).fill(false) ],
}

checkIfSelected(answerToCheck, questionNumber){
    return (answerToCheck === this.state.chosenAnswers[questionNumber]);
}

changeAnswer(newAnswer, questionNumber){
    let modifiedArray = this.state.chosenAnswers;
    modifiedArray[questionNumber] = newAnswer;
    this.setState({
    chosenAnswers: modifiedArray
    });
    console.log(this.state.chosenAnswers)
}
    
render(){
    let choices = this.props.ch;
    let questions = [];
    let questionNumber = -1;
    this.props.quiz.forEach((element, index) => {
    questionNumber++;
    questions.push(
        <DisplayQuestion questionNumber={questionNumber}
        question={element[0]}
        correct={element[5]}
        selectionChecker={(i, j) => this.checkIfSelected(i, j)}
        answerChanger={(i, j) => this.changeAnswer(i, j)}
        ch = {choices}
        />
        
    )
    });
    return (
    <div>
        {questions}
    </div>
    );
}
}
